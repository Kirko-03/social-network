{"version":3,"sources":["nophoto.png","components/Profile/Profile.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPost.tsx","components/Profile/MyPosts/MyPostContainer.tsx","components/Profile/DefaultProfileMode.tsx","components/Profile/ProfileData.tsx","components/Profile/ProfileItem.tsx","components/Profile/ProfileStatus.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","Post","props","className","s","item","src","message","like","length","maxLengthCreator","MyPost","React","memo","PostElem","posts","map","p","MyPostRedux","onSubmit","values","NewTextPost","addPosts","reduxForm","form","handleSubmit","Field","placeholder","name","component","validate","required","MapPostContainer","connect","state","profilePage","addPostAC","DefaultProfile","userProfile","Contacts","contactTitle","contactValue","isOwner","style","background","onClick","goToEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Array","from","replace","split","sort","a","b","u","Object","keys","contacts","key","paddingLeft","ProfileRedux","profile","error","color","border","maxWidth","createField","Input","type","Textarea","ProfileItem","useState","editMode","setEditMode","alt","width","height","photos","large","userPhoto","onChange","e","target","files","savePhoto","initialValues","formData","saveProfile","then","ProfileStatus","status","setStatus","useEffect","deactivateEditMode","updateStatus","value","currentTarget","onBlur","autoFocus","Profile","body","MyPostContainer","ProfileContainer","userId","this","match","params","authorizedId","history","push","getUserProfile","getStatus","componentLifeCycle","prevProps","isAuth","to","Component","compose","withRouter","auth","id"],"mappings":"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","file":"static/js/3.5297ad82.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Profile_body__3yuj0\",\"item\":\"Profile_item__RR0Ml\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__18tMB\"};","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\ntype PostPropsType = {\r\n    message:string\r\n    like:number\r\n}\r\nconst Post = (props:PostPropsType) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://kuban24.tv/wp-content/uploads/2020/02/zoomzoom.jpg'></img>\r\n            {props.message}\r\n\r\n            <div>\r\n                <span>like {props.like}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Post;","import React from 'react';\r\nimport Post from './Post/Post'\r\nimport {PostType} from '../../../redux/store';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../validators/validators\";\r\n\r\ntype MyPostProps = {\r\n    posts: Array<PostType>\r\n    addPosts: (NewTextPost: string) => void\r\n}\r\ntype FormDataType = {\r\n    addPosts: (NewTextPost: string) => void\r\n    NewTextPost: string\r\n\r\n}\r\n\r\ntype AddFormType = {\r\n    NewTextPost: string\r\n}\r\nconst length = maxLengthCreator(30)\r\nconst MyPostForm: React.FC<InjectedFormProps<FormDataType, {}, string>> = (props) => {\r\n    return (\r\n        <div>\r\n            <div>\r\n                My post\r\n            </div>\r\n            <form onSubmit={props.handleSubmit}>\r\n                <Field placeholder={\"Введите что-нибудь\"} name={\"NewTextPost\"} component={'textarea'}\r\n                       validate={[required, length]}/>\r\n                <button>Оставить пост</button>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\nconst MyPost: React.ComponentType<MyPostProps> = React.memo(props => {\r\n    let posts = props.posts\r\n\r\n    const onAddPosts = (values: AddFormType) => {\r\n        if (values.NewTextPost)\r\n            props.addPosts(values.NewTextPost)\r\n        values.NewTextPost = ''\r\n\r\n    }\r\n    let PostElem = posts.map(p => <Post message={p.message} like={p.like}/>)\r\n    return (\r\n        <div>\r\n            <MyPostRedux onSubmit={onAddPosts}/>\r\n            {PostElem}\r\n        </div>\r\n    )\r\n})\r\nconst MyPostRedux = reduxForm<FormDataType>({form: \"addPost\"})(MyPostForm)\r\n\r\nexport default MyPost;\r\n","import {addPostAC} from \"../../../redux/profileReducer\";\r\nimport MyPost from \"./MyPost\";\r\nimport {connect} from \"react-redux\";\r\nimport {PostType} from \"../../../redux/store\";\r\nimport {RootReduxState} from '../../../redux/redux-store';\r\n\r\ntype mapStateToPropsType = {\r\n    posts: Array<PostType>\r\n}\r\ntype  mapDispatchToPropsType = {\r\n    addPosts: (NewTextPost: string) => void\r\n}\r\n\r\nlet mapStateToProps = (state: RootReduxState): mapStateToPropsType => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n}\r\nconst MapPostContainer = connect<mapStateToPropsType, mapDispatchToPropsType, {}, RootReduxState>(mapStateToProps, {addPosts: addPostAC})(MyPost)\r\nexport default MapPostContainer;","import {ContactsType, UserProfileType} from \"../../redux/profileReducer\";\r\ntype ContactType = {\r\n    userProfile:UserProfileType\r\n    isOwner:boolean\r\n    goToEditMode:()=>void\r\n\r\n}\r\ntype InfoType={\r\n    contactTitle:string\r\n    contactValue:string\r\n}\r\n\r\nexport const DefaultProfile=(props:ContactType)=>{\r\n    const userProfile=props.userProfile\r\n    const Contacts = ({contactTitle,contactValue}:InfoType) =>{\r\nreturn <div><b>{contactTitle}</b>:{contactValue}</div>\r\n    }\r\n    return(\r\n\r\n        <div>\r\n            {props.isOwner&&<button style={{background:'none'}} onClick={props.goToEditMode}>edit</button>}\r\n        <div>Full name:{userProfile.fullName}</div>\r\n    <div>About me:{userProfile.aboutMe}</div>\r\n            <div>Looking for A job:{userProfile.lookingForAJob?'yes':'no'}</div>\r\n            <div>My skills:{userProfile.lookingForAJobDescription?Array.from(userProfile.lookingForAJobDescription.replace(/ /,\",\").split(',').sort((a,b)=>a>b?1:-1)).map(u=><li>{u}</li>):''}</div>\r\n\r\n            <div><b>Contacts</b>:{Object.keys(userProfile.contacts).map(key=>{\r\n                return <div style={{paddingLeft:'10px'}}><Contacts  key={key} contactTitle={key} contactValue={userProfile.contacts[key as keyof ContactsType]}/></div>\r\n            })}</div>\r\n\r\n        </div>)\r\n            }","\r\nimport React from 'react';\r\nimport {ContactsType, UserProfileType} from \"../../redux/profileReducer\";\r\nimport {createField} from \"../../Forms/FuncHelper\";\r\nimport {Input, Textarea} from '../../Forms/FormComponents';\r\nimport {InjectedFormProps, reduxForm } from 'redux-form';\r\ntype ContactType={\r\n    profile:UserProfileType\r\n}\r\nexport type FormDataType ={\r\n    fullName:string\r\n    aboutMe:string\r\n    lookingForAJob:boolean\r\n    lookingForAJobDescription:string\r\n    contacts:ContactsType\r\n}\r\n\r\nexport const EditProfileModeForm:React.FC<InjectedFormProps<UserProfileType,ContactType>&ContactType> =({handleSubmit,profile,error})=>{\r\n    return<form onSubmit={handleSubmit}>\r\n        <button style={{background:'none'}}>save</button>\r\n        {error && <div style={{color: 'red', border: '1px red solid', maxWidth: '200px'}}>\r\n            {error}\r\n        </div>}\r\n        <div>\r\n            {createField('fullName','Full name',Input,[],'',' Full name:')}\r\n        </div>\r\n        <div>\r\n            {createField('aboutMe','About me',Input,[],'','About me:')}\r\n        </div>\r\n        <div>\r\n            {createField('lookingForAJob','Looking for A job',Input,[],{type:'checkbox'},'looking for A job:')}\r\n        </div>\r\n        <div>\r\n            {createField('lookingForAJobDescription','My skills',Textarea,[],'','My skills:')}\r\n        </div>\r\n        <div>\r\n            Contacts:{Object.keys(profile.contacts).map(key=><div>{createField('contacts.'+key,key,Input,[],'','')}</div>)}\r\n        </div>\r\n    </form>\r\n}\r\nexport const ProfileRedux=reduxForm<UserProfileType,ContactType>({form:'profile'})(EditProfileModeForm)\r\n\r\n","import { Input } from '@material-ui/core';\r\nimport React, {ChangeEvent, useState} from 'react';\r\n\r\nimport userPhoto from \"../../nophoto.png\";\r\nimport {UserProfileType} from '../../redux/profileReducer';\r\nimport Preloader from '../preloader/preloader';\r\nimport {DefaultProfile} from \"./DefaultProfileMode\";\r\nimport {ProfileRedux, FormDataType} from './ProfileData';\r\n\r\n\r\ntype ProfileType = {\r\n    userProfile: UserProfileType | null\r\n    isOwner: boolean\r\n    savePhoto: (file: string) => void\r\n    saveProfile :(profile:FormDataType)=>any\r\n}\r\nconst ProfileItem = (props: ProfileType) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    let onPhotoSelected = (e: ChangeEvent<any>) => {\r\n\r\n        if (e.target.files) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n    const onSubmit = (formData: FormDataType) => {\r\n        props.saveProfile(formData).then(()=>\r\n        setEditMode(false)\r\n        )\r\n    }\r\n    if (props.userProfile === null) {\r\n        return <Preloader/>\r\n    }\r\n    return (\r\n        <div>\r\n            <div>\r\n                {\r\n                    <img alt='ava' style={{width: \"300px\", height: \"300px\"}}\r\n                         src={props.userProfile?.photos.large ? props.userProfile?.photos.large : userPhoto}/>\r\n                }\r\n                {props.isOwner && <Input type={'file'} onChange={onPhotoSelected}/>}\r\n                {editMode ? <div><ProfileRedux initialValues={props.userProfile} profile={props.userProfile} onSubmit={onSubmit}/></div> :\r\n                    <div><DefaultProfile goToEditMode={() => {\r\n                        setEditMode(true)\r\n                    }} isOwner={props.isOwner}   userProfile={props.userProfile}/></div>}\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )}\r\nexport default ProfileItem;","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (newStatus: string) => void\r\n    isOwner:boolean\r\n}\r\n// type StateType = {\r\n//     editMode: boolean,\r\n//     status: string\r\n// }\r\n\r\n    let ProfileStatus = (props:PropsType) =>{\r\n    let [editMode,setEditMode]=useState(false)\r\n        let[status,setStatus] = useState(props.status)\r\nuseEffect(()=>{\r\n    setStatus(props.status)\r\n},[props.status])\r\n\r\n        const activeEditMode=()=> {\r\n\r\n    setEditMode(true)\r\n    }\r\n        const deactivateEditMode=()=> {\r\n            setEditMode(false)\r\n            if(props.isOwner) //чтобы не обновлялся статус при нажатии на чужой статус\r\n            props.updateStatus(status)\r\n        }\r\n          const  onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\nsetStatus(e.currentTarget.value)\r\n        }\r\n        return <span>Status:\r\n            <span>\r\n                {editMode &&\r\n                <input value={status} onChange={onStatusChange} onBlur={deactivateEditMode}\r\n                       autoFocus/>}\r\n            </span>\r\n            <span>\r\n                {!editMode && <span onClick={props.isOwner?activeEditMode:deactivateEditMode}>{props.status || \"-\"}</span>}\r\n            </span>\r\n        </span>\r\n    }\r\n\r\n\r\nexport default ProfileStatus","import React from 'react';\r\nimport b from './Profile.module.css';\r\nimport MyPostContainer from \"./MyPosts/MyPostContainer\";\r\nimport {UserProfileType} from \"../../redux/profileReducer\";\r\nimport ProfileItem from './ProfileItem';\r\nimport ProfileStatus from './ProfileStatus';\r\nimport {FormDataType} from \"./ProfileData\";\r\n\r\n\r\ntype ProfileType = {\r\n    userProfile: UserProfileType | null\r\n    status: string\r\n    updateStatus: (newStatus: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: string) => void\r\n    saveProfile: (profile: FormDataType) => void\r\n}\r\n\r\nconst Profile = (props: ProfileType) => {\r\n    return (\r\n        <div className={b.body} style={props.isOwner?{background:''}:{background:' linear-gradient(270deg, rgba(0, 97, 211, 1) 10%, rgba(0, 255, 239, 1) 100%)'}}>\r\n            <ProfileItem userProfile={props.userProfile} isOwner={props.isOwner} savePhoto={props.savePhoto}\r\n                         saveProfile={props.saveProfile}/>\r\n            <ProfileStatus  isOwner={props.isOwner} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostContainer/>\r\n        </div>\r\n    )\r\n}\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {RootReduxState} from \"../../redux/redux-store\";\r\n\r\nimport {Redirect, RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {\r\n    getStatus,\r\n    getUserProfile,\r\n    savePhoto,\r\n    saveProfile,\r\n    updateStatus,\r\n    UserProfileType\r\n} from '../../redux/profileReducer';\r\nimport {compose} from \"redux\";\r\nimport {FormDataType} from \"./ProfileData\";\r\n\r\ntype ParamProps = {\r\n    userId: any\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    userProfile: UserProfileType | null\r\n    isAuth: boolean\r\n    status: string\r\n    authorizedId: number | null\r\n}\r\ntype MapDispatchToPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    savePhoto: (file: string) => void\r\n    updateStatus: (status: string) => void\r\n    saveProfile: (profile: FormDataType) => void\r\n}\r\n\r\nexport type ProfilePropsType = MapStateToPropsType & MapDispatchToPropsType\r\nexport type PropsType = RouteComponentProps<ParamProps> & ProfilePropsType\r\nlet mapStateToProps = (state: RootReduxState) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        userProfile: state.profilePage.userProfile,\r\n        status: state.profilePage.status,\r\n        authorizedId: state.auth.id\r\n    }\r\n}\r\n\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    componentLifeCycle() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedId\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.componentLifeCycle()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.componentLifeCycle()\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        if (!this.props.isAuth) return <Redirect to={'/profile'}/>\r\n        return <Profile userProfile={this.props.userProfile}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        status={this.props.status}\r\n                        savePhoto={this.props.savePhoto}\r\n                        saveProfile={this.props.saveProfile}\r\n                        updateStatus={this.props.updateStatus}\r\n        />\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(withRouter, connect<MapStateToPropsType, MapDispatchToPropsType, {}, RootReduxState>(mapStateToProps, {\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus, savePhoto, saveProfile\r\n}))(ProfileContainer)\r\n"],"sourceRoot":""}