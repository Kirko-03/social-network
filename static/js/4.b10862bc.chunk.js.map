{"version":3,"sources":["nophoto.png","components/Users/users.module.css","redux/usersSelector.ts","Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"names":["module","exports","getUser","state","usersPage","getPageSize","pageSize","getTotalItemsCount","totalItemsCount","getCurrentPage","currentPage","getLoadItem","loadItem","getFollowingInProgress","followingInProgress","Paginator","React","memo","props","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","filter","a","map","p","style","margin","className","us","bold","onPageChanged","User","users","u","page","to","id","alt","src","photos","small","userPhoto","inform","name","button","followed","disabled","some","setToggleFriends","usersAPI","deleteUser","then","response","data","resultCode","unfollow","postUser","follow","Users","UsersContainer","pageNumber","getUsers","this","Component","compose","connect","setUsers","setCurrentPage","setTotalItemsCount","setLoadItem"],"mappings":"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","file":"static/js/4.b10862bc.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"users_page__X9ix1\",\"city\":\"users_city__16Y1D\",\"country\":\"users_country__2r7KF\",\"bold\":\"users_bold__39y4d\"};","import {RootReduxState} from \"./redux-store\";\r\n\r\nexport let getUser = (state: RootReduxState) => {\r\n    return state.usersPage\r\n}\r\n\r\nexport let getPageSize = (state: RootReduxState) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport let getTotalItemsCount = (state: RootReduxState) => {\r\n    return state.usersPage.totalItemsCount\r\n}\r\nexport let getCurrentPage = (state: RootReduxState) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport let getLoadItem = (state: RootReduxState) => {\r\n    return state.usersPage.loadItem\r\n}\r\nexport let getFollowingInProgress = (state: RootReduxState) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n","import us from \"./components/Users/users.module.css\";\r\nimport React, { useState} from \"react\";\r\n\r\n\r\ntype PaginatorType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (currentPage: number) => void\r\n}\r\n\r\nexport const Paginator = React.memo((props: PaginatorType) => {\r\n    let portionSize = 10\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n    return (<div>\r\n        {portionNumber > 1 && <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREVIOUS</button>}\r\n\r\n        {\r\n\r\n            pages.filter(a => a >= leftPortionPageNumber && a <= rightPortionPageNumber).map(p => {\r\n                return <span style={{margin: '2px'}} className={props.currentPage === p ? us.bold : \"\"}\r\n\r\n                           key={p}  onClick={() => props.onPageChanged(p)}>{p}</span>\r\n\r\n            })\r\n        }\r\n        {portionCount > portionNumber && <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>}\r\n\r\n    </div>)\r\n})","import us from \"./users.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport userPhoto from \"../../nophoto.png\";\r\nimport {usersAPI} from \"../../api/api\";\r\nimport React from \"react\";\r\nimport {InitialStateType} from \"../../redux/usersReducer\";\r\n\r\ntype UserPageType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    usersPage: InitialStateType\r\n    followingInProgress: any[]\r\n    setToggleFriends: (loadItem: boolean, userId: number) => void\r\n}\r\n\r\nexport const User = (props: UserPageType) => {\r\n    return (<div>\r\n            {\r\n                props.usersPage.users.map((u) => <div>\r\n\r\n                    <div className={us.page}>\r\n<span>\r\n    <NavLink to={`/profile/` + u.id}>\r\n                    <img alt={'avatar'} src={u.photos.small != null ? u.photos.small : userPhoto}/>\r\n             </NavLink>\r\n                    <div className={us.inform}>\r\n                        <div>Имя:{u.name}</div>\r\n                        <div>Id:{u.id}</div>\r\n                    </div>\r\n                    <br/>\r\n                    <div className={us.button}>\r\n                    {u.followed ? <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.setToggleFriends(true, u.id)\r\n                            usersAPI.deleteUser(u.id).then\r\n                            ((response: any) => {\r\n                                    if (response.data.resultCode === 0)\r\n                                        props.setToggleFriends(false, u.id)\r\n                                    props.unfollow(u.id)\r\n\r\n                                }\r\n                            )\r\n                        }}>Удалить из друзей</button> :\r\n                        <button disabled={props.followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            props.setToggleFriends(true, u.id)\r\n                            usersAPI.postUser(u.id).then\r\n                            ((response: any) => {\r\n                                if (response.data.resultCode === 0)\r\n                                    props.setToggleFriends(false, u.id)\r\n                                props.follow(u.id)\r\n                            })\r\n\r\n                        }}>Добавить в друзья</button>}\r\n                    </div>\r\n                    </span>\r\n                    </div>\r\n                </div>)\r\n            }</div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {InitialStateType} from \"../../redux/usersReducer\";\r\nimport {Paginator} from \"../../Paginator\";\r\nimport {User} from \"./User\";\r\n\r\nexport type UsersFuncType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    pageSize: number\r\n    totalItemsCount: number\r\n    currentPage: number\r\n    usersPage: InitialStateType\r\n    onPageChanged: (currentPage: number) => void\r\n    followingInProgress: any[]\r\n    setToggleFriends: (loadItem: boolean, userId: number) => void\r\n}\r\n\r\nexport let Users = (props: UsersFuncType) => {\r\n    return( <>\r\n            <Paginator totalItemsCount={props.totalItemsCount}\r\n                       onPageChanged={props.onPageChanged}\r\n                       currentPage={props.currentPage}\r\n                       pageSize={props.pageSize}/>\r\n            <User followingInProgress={props.followingInProgress} setToggleFriends={props.setToggleFriends}\r\n                  unfollow={props.unfollow} follow={props.follow} usersPage={props.usersPage} />\r\n    </>\r\n    )\r\n}\r\n","import {connect} from \"react-redux\";\r\n\r\nimport {RootReduxState} from \"../../redux/redux-store\";\r\nimport Preloader from \"../preloader/preloader\";\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    InitialStateType,\r\n    setCurrentPage,\r\n    setLoadItem,\r\n    setToggleFriends,\r\n    setTotalItemsCount,\r\n    setUsers,\r\n    unfollow,\r\n    UserPageType\r\n} from \"../../redux/usersReducer\";\r\nimport React from \"react\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getLoadItem,\r\n    getPageSize,\r\n    getTotalItemsCount,\r\n    getUser\r\n} from \"../../redux/usersSelector\";\r\nimport {Users} from \"./Users\";\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    usersPage: InitialStateType\r\n    pageSize: number\r\n    totalItemsCount: number\r\n    currentPage: number\r\n    loadItem: boolean\r\n    followingInProgress: any[]\r\n}\r\ntype MapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (currentPage: number) => void\r\n    setUsers: (users: Array<UserPageType>) => void\r\n    setLoadItem: (loadItem: boolean) => void\r\n    setTotalItemsCount: (totalItemsCount: number) => void\r\n    setToggleFriends: (loadItem: boolean, userId: number) => void\r\n    getUsers: (page: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nexport class UsersContainer extends React.Component<UsersPropsType> {\r\n    componentDidMount() {\r\n        // const {currentPage, pageSize} = this.props\r\n        // this.props.getUsers(currentPage, pageSize)\r\n        //вот так круче по феншую что выше\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (<div>\r\n{this.props.loadItem ? <Preloader/> :\r\n            <Users\r\n                followingInProgress={this.props.followingInProgress}\r\n                setToggleFriends={this.props.setToggleFriends} follow={this.props.follow} unfollow={this.props.unfollow}\r\n                pageSize={this.props.pageSize}\r\n                totalItemsCount={this.props.totalItemsCount} currentPage={this.props.currentPage}\r\n                usersPage={this.props.usersPage} onPageChanged={this.onPageChanged}/>}\r\n            \r\n        </div>)\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: RootReduxState): MapStateToPropsType => {\r\n    return {\r\n        usersPage: getUser(state),\r\n        pageSize: getPageSize(state),\r\n        totalItemsCount: getTotalItemsCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        loadItem: getLoadItem(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n\r\nexport default compose(connect<MapStateToPropsType, MapDispatchToPropsType, {}, RootReduxState>(mapStateToProps, {\r\n    follow, unfollow,\r\n    setUsers, setCurrentPage, setTotalItemsCount, setLoadItem, setToggleFriends, getUsers\r\n})(UsersContainer))\r\n\r\n"],"sourceRoot":""}