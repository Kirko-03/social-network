(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,n){e.exports={nav:"Navbar_nav__2viZF",item:"Navbar_item__12kIc",activeLink:"Navbar_activeLink__3JiAX",friends:"Navbar_friends__1UnN_",image:"Navbar_image__3ngDY"}},127:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return o}));var r=n(34),a=n(5),c="UPDATE-MESSAGE",i="ADDMESSAGE",s={dialogs:[{name:"Kirik",id:1},{name:"Dimik",id:2},{name:"max",id:3},{name:"dima",id:4},{name:"sasha",id:5}],messages:[{id:1,message:"hello"},{id:2,message:"\u041a\u0430\u043a \u0434\u0435\u043b\u0430 \u043f\u0440\u0438\u0434\u0443\u0440\u043e\u043a?)"},{id:3,message:"\u0418\u0433\u043d\u043e\u0440\u0438\u0448\u044c?"}],NewTextMessage:""},u=function(e){return{type:c,body:e}},o=function(){return{type:i}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:var n=Object(a.a)(Object(a.a)({},e),{},{NewTextMessage:t.body});return n.NewTextMessage=t.body,n;case i:var u=e.NewTextMessage;return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:u}]),NewTextMessage:""});default:return e}}},128:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return O})),n.d(t,"g",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return m})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return x}));var r=n(34),a=n(5),c=n(35),i="FOLLOW",s="UNFOLLOW",u="SET_USERS",o="SET_CURRENT_PAGE",l="SET_TOTAL_USER_COUNT",j="SET_LOAD_ITEM",d="SET_TOGGLE_FRIENDS",b={users:[],pageSize:4,totalItemsCount:0,currentPage:1,loadItem:!0,followingInProgress:[]},f=function(e){return{type:i,userId:e}},O=function(e){return{type:s,userId:e}},p=function(e){return{type:u,users:e}},h=function(e){return{type:o,currentPage:e}},m=function(e){return{type:l,totalCount:e}},g=function(e){return{type:j,loadItem:e}},x=function(e,t){return{type:d,loadItem:e,userId:t}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(a.a)(Object(a.a)({},e),{},{users:Object(c.b)(e.users,t.userId,"id",{followed:!0})});case s:return Object(a.a)(Object(a.a)({},e),{},{users:Object(c.b)(e.users,t.userId,"id",{followed:!1})});case u:return Object(a.a)(Object(a.a)({},e),{},{users:Object(r.a)(t.users)});case l:return Object(a.a)(Object(a.a)({},e),{},{totalItemsCount:t.totalCount});case o:return Object(a.a)(Object(a.a)({},e),{},{currentPage:t.currentPage});case j:return Object(a.a)(Object(a.a)({},e),{},{loadItem:t.loadItem});case d:return Object(a.a)(Object(a.a)({},e),{},{followingInProgress:t.loadItem?[].concat(Object(r.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},164:function(e,t,n){},165:function(e,t,n){},27:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var r=n(11),a=n.n(r),c=n(20),i=n(131),s=n.n(i).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0",headers:{"API-KEY":"b38adab4-ca13-4452-a976-08addc7350f8"}}),u={getUsers:function(){var e=arguments;return Object(c.a)(a.a.mark((function t(){var n,r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:2,r=e.length>1&&void 0!==e[1]?e[1]:5,t.next=4,s.get("/users?page=".concat(n,"&count=").concat(r));case 4:if(!(c=t.sent).data){t.next=7;break}return t.abrupt("return",c.data);case 7:case"end":return t.stop()}}),t)})))()},deleteUser:function(e){return s.delete("/follow/".concat(e))},postUser:function(e){return s.post("/follow/".concat(e),{})},getProfile:function(e){return console.warn("\u0423\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u0439 \u043c\u0435\u0442\u043e\u0434"),o.getProfile(e)}},o={getProfile:function(e){return s.get("/profile/"+e)},getStatus:function(e){return s.get("/profile/status/"+e)},updateStatus:function(e){return s.put("/profile/status",{status:e})}},l={getAuth:function(){return s.get("/auth/me")},login:function(e,t,n){return s.post("/auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return s.delete("/auth/login")}}},288:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(64),i=n.n(c),s=(n(164),n(37)),u=n(38),o=n(40),l=n(39),j=(n(165),n(12)),d=n.n(j),b=n(14),f=n(1),O=function(){return Object(f.jsxs)("nav",{className:d.a.nav,children:[Object(f.jsx)("div",{className:d.a.item,children:Object(f.jsx)(b.d,{to:"/profile",activeClassName:d.a.activeLink,children:"Profile"})}),Object(f.jsx)("div",{className:d.a.item,children:Object(f.jsx)(b.d,{to:"/dialogs",activeClassName:d.a.activeLink,children:"Messages"})}),Object(f.jsx)("div",{className:d.a.item,children:Object(f.jsx)(b.d,{to:"/news",activeClassName:d.a.activeLink,children:"News"})}),Object(f.jsx)("div",{className:d.a.item,children:Object(f.jsx)(b.d,{to:"/music",activeClassName:d.a.activeLink,children:"Music"})}),Object(f.jsx)("div",{className:d.a.item,children:Object(f.jsx)(b.d,{to:"/settings",activeClassName:d.a.activeLink,children:"Settings"})}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),Object(f.jsx)("div",{className:d.a.item,children:Object(f.jsx)(b.d,{to:"/users",activeClassName:d.a.activeLink,className:d.a.friends,children:"Users"})}),Object(f.jsx)("img",{className:d.a.image}),Object(f.jsx)("div",{children:"Kirik"}),Object(f.jsx)("img",{className:d.a.image}),Object(f.jsx)("div",{children:"Dimik"}),Object(f.jsx)("img",{className:d.a.image}),Object(f.jsx)("div",{children:"Blachek"})]})},p=function(){return Object(f.jsx)("div",{children:"News"})},h=function(){return Object(f.jsx)("div",{children:"Music"})},m=function(){return Object(f.jsx)("div",{children:"Settings"})},g=n(10),x=function(){return Object(f.jsx)("div",{children:"Friends"})},v=n(5),w=n(69),_=n.n(w),y=function(e){return Object(f.jsxs)("header",{className:_.a.header,children:[Object(f.jsx)("img",{className:_.a.header,src:"https://static.mk.ru/upload/entities/2018/11/06/articles/detailPicture/88/e3/19/b1/a24bfa5a27d628949cfed7c792c7b99f.jpg"}),Object(f.jsx)("div",{className:_.a.login,children:e.isAuth?Object(f.jsxs)("p",{children:["Login:",e.login,Object(f.jsx)("button",{onClick:e.logout,children:"Logout"})]}):Object(f.jsx)(b.d,{to:"/login",children:"Login"})})]})},N=n(11),k=n.n(N),S=n(20),E=n(27),I=n(45),P="SET_USER_DATA",C={id:null,email:null,login:null,isAuth:!1},A=function(e,t,n,r){return{type:P,data:{id:e,email:t,login:n,isAuth:r}}},T=function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var n,r,a,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.getAuth();case 2:0===(n=e.sent).data.resultCode&&(r=n.data.data,a=r.id,c=r.login,i=r.email,t(A(a,c,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(v.a)(Object(v.a)({},e),t.data);default:return e}},M=n(17),U=n(9),D=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(f.jsx)(y,Object(v.a)({},this.props))}}]),n}(a.a.Component),z=Object(U.d)(Object(M.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.logout();case 2:0===e.sent.data.resultCode&&t(A(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(D),R=n(129),F=n(66),G=n(52),W=n(35),X=Object(G.b)(5),H=Object(G.a)(30),J=Object(R.a)({form:"login"})((function(e){return Object(f.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(W.a)("email","email",F.a,[G.c,H],{},""),Object(W.a)("password","Password",F.a,[G.c,X],{type:"password"},""),e.error&&Object(f.jsx)("div",{style:{color:"red",border:"1px red solid",maxWidth:"200px"},children:e.error}),Object(W.a)("rememberMe","RememberMe",F.a,[],{type:"checkbox"},"Remember login"),Object(f.jsx)("div",{children:Object(f.jsx)("button",{children:"Login"})})]})})),K=Object(M.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{login:function(e,t,n){return function(){var r=Object(S.a)(k.a.mark((function r(a){var c,i;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,E.a.login(e,t,n);case 2:0===(c=r.sent).data.resultCode?a(T()):(i=c.data.messages.length>0?c.data.messages[0]:"wrong email or password",a(Object(I.a)("login",{_error:i})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){if(e.isAuth)return Object(f.jsx)(g.a,{to:"/profile"});return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"LOGIN"}),Object(f.jsx)(J,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)}})]})})),Y=n(96),B=n(127),Z=n(128),V=n(134),q=n(130),Q="INITIALIZED_SUCCESS",$={initialized:!1},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(v.a)(Object(v.a)({},e),{},{initialized:!0});default:return e}},te=Object(U.c)({profilePage:Y.b,dialogPage:B.b,usersPage:Z.a,auth:L,form:q.a,app:ee}),ne=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||U.d,re=Object(U.e)(te,ne(Object(U.a)(V.a)));window.__store__=re;var ae=re,ce=n(33),ie=n(68),se=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,295))})),ue=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,297))})),oe=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,296))})),le=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(f.jsx)(b.a,{children:Object(f.jsxs)("div",{className:"app-writer",children:[Object(f.jsx)(z,{}),Object(f.jsx)(O,{}),Object(f.jsxs)("div",{className:"app-writer-body",children:[Object(f.jsx)(g.a,{to:"/profile"}),Object(f.jsx)(g.b,{path:"/dialogs",render:function(){return Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(ce.a,{}),children:Object(ie.a)(ue)})}}),Object(f.jsx)(g.b,{path:"/profile/:userId?",render:function(){return Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(ce.a,{}),children:Object(ie.a)(se)})}}),Object(f.jsx)(g.b,{path:"/users",render:function(){return Object(f.jsx)(r.Suspense,{fallback:Object(f.jsx)(ce.a,{}),children:Object(ie.a)(oe)})}}),Object(f.jsx)(g.b,{path:"/news",render:function(){return Object(f.jsx)(p,{})}}),Object(f.jsx)(g.b,{path:"/music",render:function(){return Object(f.jsx)(h,{})}}),Object(f.jsx)(g.b,{path:"/settings",render:function(){return Object(f.jsx)(m,{})}}),Object(f.jsx)(g.b,{path:"/friends",render:function(){return Object(f.jsx)(x,{})}}),Object(f.jsx)(g.b,{path:"/login",render:function(){return Object(f.jsx)(K,{})}})]})]})}):Object(f.jsx)(ce.a,{})}}]),n}(a.a.Component),je=Object(U.d)(Object(M.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(S.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(T()),e.next=3,Promise.all([n]);case 3:t({type:Q});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(le),de=function(){return Object(f.jsx)(b.b,{children:Object(f.jsx)(M.a,{store:ae,children:Object(f.jsx)(je,{})})})};i.a.render(Object(f.jsx)(de,{}),document.getElementById("root"))},33:function(e,t,n){"use strict";n(0);var r=n(1);t.a=function(){return Object(r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:Object(r.jsx)("img",{alt:"preloader",src:"https://i.stack.imgur.com/kOnzy.gif"})})}},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(5),a=n(88),c=(n(0),n(1)),i=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(r.a)(Object(r.a)({},e),a):e}))},s=function(e,t,n,i,s,u){return Object(c.jsxs)("div",{children:[u,Object(c.jsx)(a.a,Object(r.a)({name:e,placeholder:t,component:n,validate:i},s))]})}},52:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=function(e){if(!e)return"Field is not filled"},a=function(e){return function(t){if(t.length>e)return"Max length ".concat(e," symbol")}},c=function(e){return function(t){if(t.length<e)return"Min length password ".concat(e," symbol")}}},66:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var r=n(5),a=n(95),c=(n(0),n(92)),i=n.n(c),s=n(1),u=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,c=n&&r;return Object(s.jsxs)("div",{className:c?i.a.formControl+" "+(c?i.a.error:""):"",children:[Object(s.jsx)("div",{children:a}),c&&Object(s.jsx)("span",{children:r})]})},o=function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return Object(s.jsx)("div",{children:Object(s.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))})},l=function(e){var t=e.input,n=(e.meta,e.children,Object(a.a)(e,["input","meta","children"]));return Object(s.jsx)("div",{children:Object(s.jsx)(u,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("input",Object(r.a)(Object(r.a)({},t),n))}))})}},68:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return p}));var r=n(5),a=n(37),c=n(38),i=n(40),s=n(39),u=n(0),o=n.n(u),l=n(10),j=n(17),d=n(33),b=n(1),f=function(e){return{isAuth:e.auth.isAuth}},O=function(e){var t=function(t){Object(i.a)(u,t);var n=Object(s.a)(u);function u(){return Object(a.a)(this,u),n.apply(this,arguments)}return Object(c.a)(u,[{key:"render",value:function(){return!1===this.props.isAuth?Object(b.jsx)(l.a,{to:"/login"}):Object(b.jsx)(e,Object(r.a)({},this.props))}}]),u}(o.a.Component);return Object(j.b)(f)(t)},p=function(e){return Object(b.jsx)(u.Suspense,{fallback:Object(b.jsx)(d.a,{}),children:Object(b.jsx)(e,{})})}},69:function(e,t,n){e.exports={header:"Header_header__3X4EN",login:"Header_login__2ULOt"}},92:function(e,t,n){e.exports={formControl:"FormComponents_formControl__2iCwh",error:"FormComponents_error__-LYzj"}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h}));var r=n(11),a=n.n(r),c=n(20),i=n(34),s=n(5),u=n(27),o={posts:[{message:"Hi",like:1},{message:"Whats up?",like:1},{message:"Learn Pituhon(((",like:-13},{message:"LOSEEER",like:187},{message:"\u0421\u043e\u0441\u0438 \u043f\u0438\u043d\u0447\u0435\u0440",like:100}],userProfile:null,isAuth:!1,status:""},l="ADD-POST",j="SET-USER-PROFILE",d="SET-STATUS",b=function(e){return{type:d,status:e}},f=function(e){return{type:l,NewTextPost:e}},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.c.getProfile(e);case 2:r=t.sent,n((a=r.data,{type:j,userProfile:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.getStatus(e);case 2:r=t.sent,n(b(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.b.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(b(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var n={message:t.NewTextPost,like:0};return Object(s.a)(Object(s.a)({},e),{},{posts:[].concat(Object(i.a)(e.posts),[n])});case j:return Object(s.a)(Object(s.a)({},e),{},{userProfile:t.userProfile});case d:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});default:return e}}}},[[288,1,2]]]);
//# sourceMappingURL=main.91768006.chunk.js.map